\documentclass[a4paper, 11pt]{article}

%Comandos para configurar el idioma
\usepackage[spanish,activeacute]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc} %Necesario para el uso de las comillas latinas.

%Importante que esta sea la última órden del preámbulo
\usepackage{hyperref}
% \hypersetup{
%   pdftitle={Cuestionario de teoría 1},
%   pdfauthor={Antonio Álvarez Caballero},
%   unicode,
%   plainpages=false,
%   colorlinks,
%   citecolor=black,
%   filecolor=black,
%   linkcolor=black,
%   urlcolor=black,
% }
\newcommand\fnurl[2]{%
  \href{#2}{#1}\footnote{\url{#2}}%
}

%Paquetes matemáticos
\usepackage{amsmath,amsfonts,amsthm}
\usepackage[all]{xy} %Para diagramas
\usepackage{enumerate} %Personalización de enumeraciones
\usepackage{tikz} %Dibujos

%Tipografía escalable
\usepackage{lmodern}
%Legibilidad
\usepackage{microtype}

%Código
\usepackage{listings}
\usepackage{color}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Python,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=left,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}

% \title{Cuestionario de teoría 1}
% \author{Antonio Álvarez Caballero\\
%     \href{mailto:analca3@correo.ugr.es}{analca3@correo.ugr.es}}
% \date{\today}

\theoremstyle{definition}
\newtheorem{ejercicio}{Ejercicio}
\newtheorem{cuestion}{Cuestión}
\newtheorem*{solucion}{Solución}
\newtheorem*{bonus}{BONUS}

%%%%%%%%%%%%%%%%%%%%%%%%%% IPNB
\usepackage{graphicx} % Used to insert images
   \usepackage{adjustbox} % Used to constrain images to a maximum size
   \usepackage{color} % Allow colors to be defined
   \usepackage{enumerate} % Needed for markdown enumerations to work
   \usepackage{geometry} % Used to adjust the document margins
   \usepackage{amsmath} % Equations
   \usepackage{amssymb} % Equations
   \usepackage{eurosym} % defines \euro
   \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
   \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
   \usepackage{fancyvrb} % verbatim replacement that allows latex
   \usepackage{grffile} % extends the file name processing of package graphics
                        % to support a larger range
   % The hyperref package gives us a pdf with properly built
   % internal navigation ('pdf bookmarks' for the table of contents,
   % internal cross-reference links, web links for URLs, etc.)
   \usepackage{hyperref}
   \usepackage{longtable} % longtable support required by pandoc >1.10
   \usepackage{booktabs}  % table support for pandoc > 1.12.2




   \definecolor{orange}{cmyk}{0,0.4,0.8,0.2}
   \definecolor{darkorange}{rgb}{.71,0.21,0.01}
   \definecolor{darkgreen}{rgb}{.12,.54,.11}
   \definecolor{myteal}{rgb}{.26, .44, .56}
   \definecolor{gray}{gray}{0.45}
   \definecolor{lightgray}{gray}{.95}
   \definecolor{mediumgray}{gray}{.8}
   \definecolor{inputbackground}{rgb}{.95, .95, .85}
   \definecolor{outputbackground}{rgb}{.95, .95, .95}
   \definecolor{traceback}{rgb}{1, .95, .95}
   % ansi colors
   \definecolor{red}{rgb}{.6,0,0}
   \definecolor{green}{rgb}{0,.65,0}
   \definecolor{brown}{rgb}{0.6,0.6,0}
   \definecolor{blue}{rgb}{0,.145,.698}
   \definecolor{purple}{rgb}{.698,.145,.698}
   \definecolor{cyan}{rgb}{0,.698,.698}
   \definecolor{lightgray}{gray}{0.5}

   % bright ansi colors
   \definecolor{darkgray}{gray}{0.25}
   \definecolor{lightred}{rgb}{1.0,0.39,0.28}
   \definecolor{lightgreen}{rgb}{0.48,0.99,0.0}
   \definecolor{lightblue}{rgb}{0.53,0.81,0.92}
   \definecolor{lightpurple}{rgb}{0.87,0.63,0.87}
   \definecolor{lightcyan}{rgb}{0.5,1.0,0.83}

   % commands and environments needed by pandoc snippets
   % extracted from the output of `pandoc -s`
   \providecommand{\tightlist}{%
     \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
   \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
   % Add ',fontsize=\small' for more characters per line
   \newenvironment{Shaded}{}{}
   \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
   \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
   \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
   \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
   \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
   \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
   \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
   \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
   \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
   \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
   \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
   \newcommand{\RegionMarkerTok}[1]{{#1}}
   \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
   \newcommand{\NormalTok}[1]{{#1}}

   % Define a nice break command that doesn't care if a line doesn't already
   % exist.
   \def\br{\hspace*{\fill} \\* }
   % Math Jax compatability definitions
   \def\gt{>}
   \def\lt{<}
   % Document parameters
   \title{Cuestionario de teoría 1}
   \author{Antonio Álvarez Caballero\\
       \href{mailto:analca3@correo.ugr.es}{analca3@correo.ugr.es}}
   \date{\today}




   % Pygments definitions

\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
   \let\PY@ul=\relax \let\PY@tc=\relax%
   \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
   \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
   \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


   % Exact colors from NB
   \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
   \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}




   % Prevent overflowing lines due to hard-to-break entities
   \sloppy
   % Setup hyperref package
  %  \hypersetup{
  %    pdftitle={Cuestionario de teoría 1},
  %    pdfauthor={Antonio Álvarez Caballero},
  %    unicode,
  %    plainpages=false,
  %    colorlinks,
  %    citecolor=black,
  %    filecolor=black,
  %    linkcolor=black,
  %    urlcolor=black,
  %  }
   \hypersetup{
     pdftitle={Cuestionario de teoría 1},
     pdfauthor={Antonio Álvarez Caballero},
     unicode,
     breaklinks=true,  % so long urls are correctly broken across lines
     colorlinks=true,
     urlcolor=blue,
     linkcolor=darkorange,
     citecolor=darkgreen,
     }
   % Slightly bigger margins than the latex defaults

   \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}







%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%% New sqrt
\usepackage{letltxmacro}
\makeatletter
\let\oldr@@t\r@@t
\def\r@@t#1#2{%
\setbox0=\hbox{$\oldr@@t#1{#2\,}$}\dimen0=\ht0
\advance\dimen0-0.2\ht0
\setbox2=\hbox{\vrule height\ht0 depth -\dimen0}%
{\box0\lower0.4pt\box2}}
\LetLtxMacro{\oldsqrt}{\sqrt}
\renewcommand*{\sqrt}[2][\ ]{\oldsqrt[#1]{#2} }
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

  \maketitle

  \section{Cuestiones}

  \begin{cuestion}
      ¿Cuáles son los objetivos principales de las técnicas de visión por computador? Poner algún ejemplo si lo necesita.
  \end{cuestion}

  \begin{solucion}
    La visión por computador busca extraer información acerca de una imagen,a la
    que llamamos \textit{significado}.
    Esta información puede ser de tipo semántica, como identificar objetos en
    la imagen o reconocer caras, o de tipo geométrica, como contornos, formas, distancias
    o perspectiva. También se puede usar para almacenar o extraer mensajes,
    que es lo que llamamos \textit{esteganografía}.
  \end{solucion}

  \begin{cuestion}
      ¿Una máscara de convolución para imágenes debe ser siempre una matriz 2D?
       ¿Tiene sentido considerar máscaras definidas a partir de matrices de varios
        canales como p.e. el tipo de OpenCV CV\_8UC3? Discutir y justificar la respuesta.
  \end{cuestion}

  \begin{solucion}
      No, ya que hemos visto que muchas máscaras son separables por filas y columnas.
      Así conseguimos una complejidad computacional menor, y por tanto deberíamos
      buscar siempre este tipo de máscaras. La Gaussiana, por ejemplo, es separable. \\

      Sí tiene sentido máscaras multicanal, ya que podríamos aplicar una máscara
      a cada canal de color, modificando cada uno de una manera distinta o combinando
      varios canales. Aunque generalmente se suelen separar los canales, aplicar filtros,
      y por último reconstruir la imagen.
  \end{solucion}

  \begin{cuestion}
      Expresar y justificar las diferencias y semejanzas entre correlación
      y convolución. Justificar la respuesta.
  \end{cuestion}

  \begin{solucion}
      Ambas operaciones consisten en pasar la máscara por todos los píxeles de la imagen,
      realizando una combinación lineal sobre los valores de luminosidad de los píxeles vecinos. \\

      La diferencia entre ambas operaciones es que en la correlación (formalmente
      es correlación cruzada) primero refleja la máscara sobre ambos ejes antes de
      aplicar la convolución.
  \end{solucion}

  \begin{cuestion}
      ¿Los filtros de convolución definen funciones lineales sobre las
      imágenes? ¿y los de mediana? Justificar la respuesta.
  \end{cuestion}

  \begin{solucion}
    MAL.\\
      Los filtros de convolución son una combinación lineal (producto escalar) entre
      los valores del filtro y los valores de luminosidad del ROI tomado. En este caso,
      la operación tiene un coste lineal.\\

      En el caso del filtro de mediana, no es así, ya que para calcular la mediana
      debemos ordenar los valores de los píxeles, que es una operación que en el mejor
      caso es $O(n logn)$, lo cual no es lineal.
  \end{solucion}

  \begin{cuestion}
      ¿La aplicación de un filtro de alisamiento debe ser una operación
      local o global sobre la imagen? Justificar la respuesta.
  \end{cuestion}

  \begin{solucion}
      Debe ser una operación local. Esto se debe a una de las reglas básicas de la
      visión por computador: El valor asociado un píxel en la matriz asociada a la imagen
      está relacionado con los de su alrededor.
      No tendría sentido tomar todos los píxeles de una imagen,
      ya que entonces todos los píxeles se alisarían de la misma manera, no obteniendo
      un buen resultado. Además, así no cumplimos la misión del alisamiento, que
      es reducir la diferencia lumínica entre píxeles vecinos.
  \end{solucion}

  \begin{cuestion}
      Para implementar una función que calcule la imagen gradiente de una
      imagen dada pueden plantearse dos alternativas:
      \begin{itemize}
      	\item Primero alisar la imagen y después calcular las derivadas sobre la imagen alisada.
      	\item Primero calcular las imágenes derivadas y después alisar dichas imágenes.
      \end{itemize}
      Discutir y decir que estrategia es la más adecuada, si alguna lo es. Justificar la decisión.

  \end{cuestion}

  \begin{solucion}
      Primero debemos alisar la imagen y luego calcular sus derivadas, puesto que la imagen
      original es muy probable que tenga mucho ruido. Esto hace que las derivadas no
      sean estables, pudiendo obtener datos muy falseados u erróneos. Alisando primero la
      imagen, obtenemos unos datos más uniformes y útiles.
  \end{solucion}

  \begin{cuestion}
  	Verificar matemáticamente que las primeras derivadas (respecto de x
  	e y) de la Gaussiana 2D se puede expresar como núcleos de convolución
  	separables por filas y columnas. Interpretar el papel de dichos núcleos
  	en el proceso de convolución.
  \end{cuestion}

  \begin{solucion}
    Usando iPython Notebook resolveremos este ejercicio fácilmente.
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{sympy}
        \PY{k+kn}{from} \PY{n+nn}{mpmath} \PY{k}{import} \PY{o}{*}
        \PY{k+kn}{from} \PY{n+nn}{sympy} \PY{k}{import} \PY{n}{separatevars}
        \PY{k+kn}{from} \PY{n+nn}{sympy.abc} \PY{k}{import} \PY{n}{sigma}
        \PY{n}{sympy}\PY{o}{.}\PY{n}{init\PYZus{}session}\PY{p}{(}\PY{p}{)}
        \PY{n}{s} \PY{o}{=} \PY{n}{symbols}\PY{p}{(}\PY{l+s}{\PYZsq{}}\PY{l+s}{s}\PY{l+s}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}

   \begin{Verbatim}[commandchars=\\\{\}]
IPython console for SymPy 0.7.7.dev (Python 3.5.0-64-bit) (ground types: gmpy)

These commands were executed:
>>> from \_\_future\_\_ import division
>>> from sympy import *
>>> x, y, z, t = symbols('x y z t')
>>> k, m, n = symbols('k m n', integer=True)
>>> f, g, h = symbols('f g h', cls=Function)
>>> init\_printing()

Documentation can be found at http://docs.sympy.org/dev
   \end{Verbatim}

   \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n}{f} \PY{o}{=} \PY{l+m+mi}{1}\PY{o}{/}\PY{p}{(}\PY{l+m+mi}{2}\PY{o}{*}\PY{n}{pi}\PY{o}{*}\PY{n}{sigma}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{p}{)}\PY{o}{*}\PY{n}{exp}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{p}{(}\PY{n}{x}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{o}{+}\PY{n}{y}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{p}{)}\PY{o}{/}\PY{p}{(}\PY{l+m+mi}{2}\PY{o}{*}\PY{n}{sigma}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

   \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{f}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}3}]:}


       \begin{equation*}\adjustbox{max width=\hsize}{$
       \frac{e^{\frac{- x^{2} - y^{2}}{2 \sigma^{2}}}}{2 \pi \sigma^{2}}
       $}\end{equation*}




   \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{separatevars}\PY{p}{(}\PY{n}{diff}\PY{p}{(}\PY{n}{f}\PY{p}{,}\PY{n}{x}\PY{p}{)}\PY{p}{,}\PY{n}{force}\PY{o}{=}\PY{k}{True}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}4}]:}


       \begin{equation*}\adjustbox{max width=\hsize}{$
       - \frac{x e^{- \frac{x^{2}}{2 \sigma^{2}}}}{2 \pi \sigma^{4}} e^{- \frac{y^{2}}{2 \sigma^{2}}}
       $}\end{equation*}



   \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{n}{separatevars}\PY{p}{(}\PY{n}{diff}\PY{p}{(}\PY{n}{f}\PY{p}{,}\PY{n}{y}\PY{p}{)}\PY{p}{,}\PY{n}{force}\PY{o}{=}\PY{k}{True}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}5}]:}


       \begin{equation*}\adjustbox{max width=\hsize}{$
       - \frac{y e^{- \frac{x^{2}}{2 \sigma^{2}}}}{2 \pi \sigma^{4}} e^{- \frac{y^{2}}{2 \sigma^{2}}}
       $}\end{equation*}

       \newpage

       Podemos afirmar entonces que son separables ambas derivadas.
       Para la derivada en $x$ nos queda, separando también el denominador,

       \begin{equation*}\adjustbox{max width=\hsize}{$
        \frac{\partial G}{\partial x} = - \frac{x e^{- \frac{x^{2}}{2 \sigma^{2}}}}{\sqrt{2 \pi} \sigma^{2}} \frac{e^{- \frac{y^{2}}{2 \sigma^{2}}}}{\sqrt{2 \pi} \sigma^{2}}
       $}\end{equation*}

       Y para la derivada en $y$,

       \begin{equation*}\adjustbox{max width=\hsize}{$
        \frac{\partial G}{\partial y} = - \frac{e^{- \frac{x^{2}}{2 \sigma^{2}}}}{\sqrt{2 \pi} \sigma^{2}} y\frac{e^{- \frac{y^{2}}{2 \sigma^{2}}}}{\sqrt{2 \pi} \sigma^{2}}
       $}\end{equation*}

       Los papeles de ambas en la convolución son calcular una imagen que resalte
       los cambios de intensidad en cada uno de los ejes: En el eje $X$ la parcial
       con respecto a $x$ y respectivamente en el eye $Y$ la parcial sobre $y$.
  \end{solucion}

  \begin{cuestion}
     	Verificar matemáticamente que la Laplaciana de la Gaussiana se puede implementar
       a partir de núcleos de convolución separables por filas y columnas.
       Interpretar el papel de dichos núcleos en el proceso de convolución.

  \end{cuestion}

  \begin{solucion}
     	contenidos...
  \end{solucion}


  \begin{cuestion}
     	 ¿Cuáles son las operaciones básicas en la reducción del tamaño de una imagen? Justificar el papel de cada una de ellas.

  \end{cuestion}

  \begin{solucion}
     	Las operaciones básicas son alisamiento y submuestreo.\\

      Al realizar submuestreo aparece el \textit{aliasing}, ya que no tomamos una
      señal lo suficientemente grande y se pierden las frecuencias más altas,
      perdiendo mucho detalle. Por eso es importante primero alisar y luego submuestrear,
      ya que así la imagen queda suavizada \"uniformizando\" las frecuencias, evitando
      así que se pierdan las más altas.
  \end{solucion}
  \begin{cuestion}
     	¿Qué información de la imagen original se conserva cuando vamos
      subiendo niveles en una pirámide Gausssiana? Justificar la respuesta.

  \end{cuestion}

  \begin{solucion}
     	Conservamos las bajas frecuencias, ya que al realizar los pasos de alisamiento
      y submuestreo la imagen se va haciendo cada vez más uniforme, quedando
      las zonas donde los cambios de iluminosidad son más suaves. Se pierden
      las altas frecuencias, y con ello las zonas de gran detalle de la imagen.
  \end{solucion}
  \begin{cuestion}
     	¿Cuál es la diferencia entre una pirámide Gaussiana y una Piramide
      Lapalaciana? ¿Qué nos aporta cada uan de ellas? Justificar la respuesta.
      (Mirar en el artículo de Burt-Adelson)

  \end{cuestion}

  \begin{solucion}
     	Si tomamos $G_i$ y $G_{i+1}$ dos niveles sucesivos de una pirámide gaussiana,
      y contruimos $G'_{i+1}$ como $G_{i+1}$ pero con el tamaño de $G_i$, entonces
      la pirámide laplaciana la podemos contruir como

      $$L_i = G_i - G'_{i+1}$$

      Es claro que si la gaussiana tiene $N$ niveles, $L_N = G_N$, ya que no existe
      $G_{N+1}$. Entonces la diferencia es clara: la laplaciana conserva las
      frecuencias medias y altas, mientras que en la gaussiana las bajas. \\

      La pirámide laplaciana es muy usada en codificación eficiente de imágenes,
      ya que la compresión es mayor en imágenes con frecuencias más altas, que es
      justo lo que caracteriza a la laplaciana. Esto se consigue debido a que las
      imágenes de la pirámide laplaciana tienen entropía y varianza pequeñas,
      haciendo la codificación más agresiva, pero sin distorsionar lo suficiente
      como para que los humanos lo notemos.
  \end{solucion}

  \begin{cuestion}
     	Cual es la aportación del filtro de Canny al cálculo de fronteras
      frente a filtros como Sobel o Robert. Justificar detalladamente la
      respuesta.
  \end{cuestion}

  \begin{solucion}
     	Mientras que los filtros de Sobel y Robert aplican dos máscaras de convolución
      y detectan bordes horizontales y verticales, el filtro de Canny filtra usando
      la derivada de la Gaussiana. Además, añade la \textit{supresión de los no-máximos}
      (compara la intensidad de un píxel con sus vecinos en la dirección del gradiente,
      conservando dichos píxeles si su intensidad es máxima en comparación con los demás)
      y la \textit{histéresis y enlazado} (se definen umbrales alto y bajo, los píxeles
      que superan el umbral alto forman un borde, y los más bajos que el umbral bajo
      se desechan ). \\

      Esto consigue una imagen con bordes de anchura un píxel, consiguiendo mucha precisión
      en la situación del borde. Además, el filtro de Canny devuelve una imagen
      binaria y no en escala de grises.
  \end{solucion}

  \begin{cuestion}
     	Buscar e identificar una aplicación real en la que el filtro de
      Canny garantice unas fronteras que sean interpretables y por tanto sirvan
       para solucionar un problema de visión por computador.
        Justificar con todo detalle la bondad de la elección.

  \end{cuestion}

  \begin{solucion}
     	contenidos...
  \end{solucion}
  \begin{bonus}
     	Usando la descomposición SVD (Singular Value
      Decomposition) de una matriz, deducir la complejidad computacional que es
      posible alcanzar en la implementación de la convolución 2D de una imagen
      con una máscara 2D de valores y tamaño cualesquiera (suponer la máscara de
      tamaño inferior a la imagen).

  \end{bonus}

  \begin{solucion}
     	contenidos...
  \end{solucion}

\end{document}
